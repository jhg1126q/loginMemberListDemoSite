<template>
    <div>
        <input style="color:white" v-model="accountNumber" @input="predictBank">
        <p style="color:white">은행명</p>
        <p v-for="item in bankName" :key="item.index">{{ item }}</p>
    </div>
</template>
  
  <script setup>
    import { ref } from "vue";

    const accountNumber = ref('');
    const bankName =  ref([])
    const bankPatterns = {
        '산업은행': /^\d{3}(13|20|19|11|22)\d{6}$|^(013|020|010|019|011|022)\d{11}$/,
        '기업은행': /^\d{3}(01|02|03|13|07|06|04)\d{7}$|^\d{9}(01|02|03|13|07|06|04)\d{3}$/,
        '국민은행': /^0\d{9}$|0\d{10}$|9\d{10}$|^\d{3}(01|21|24|05|04|25|26)\d{7}$|^\d{4}92\d{8}$|^\d{4}(06|18)\d{6}$|^\d{4}(01|02|25|37|90)\d{8}$/,
        '하나은행': /^\d{3}(13|33|18|38|19|39|26|11|22)\d{6}$|^(611|610|620|600|601|630|621|631)\d{6}$|^\d{12}(05|07|08|02|01|04|94|37|60)$/,
        '수협은행': /^\d{3}(01|02|06|08|03|13|61|62|63|67)\d{6}$|^(101|201|102|202|209|103|208|106|108|113|114|206|167)\d{6}$|^0\d{11}$|^\d{3}40\d{9}$/,
        '농협은행': /^\d{3}(01|02|12|06|05|17|04|10|14|21|24|34|45|47|49|59|80|28|31|43|46|79|81|86|87|88)\d{6}$|^\d{4}(01|02|12|06|05|17|04|10|14|21|24|34|45|47|49|59|80|28|31|43|46|79|81|86|87|88)\d{6}$|^(301|302|312|306|305|317|304|310|314|321|324|334|345|347|349|359|380|028|031|043|046|079|081|086|087|088)\d{7}$|^\d{6}(64|65)\d{6}$|^(790|791)\d{11}$/,
        '농협중앙회': /^(351|352|356|355|354|360|384|394|398|028)\d{8}$|^\d{6}(51|52|56|55)\d{6}$|^792\d{11}$/,
        '우리은행': /^\d(006|007|002|004|003|005)\d{8}$|^\d{9}(18|92)\d{3}$|^\d{3}(05|06|07|08|02|01|04)\d{6}$|^\d{9}(01|15|02|12|04|03|13)\d{3}$|^\d{3}(01|21|24|05|04|25|09)\d{6}$/,
        'SC제일은행': /^\d{3}(10|20|30|15)\d{6}$|^\d{3}16\d{9}$/,
        '한국씨티은행': /^\d{8}(01|11|21|25|31|42|51|71|81|23|05|06|15|26|29|07|27|55|03|13|33|41|43|53|63|24|99)\d{3}$|^\d{8}(25|41)\d{2}$|^\d{8}(01|11|21|25|31|42|51|71|81|23|05|06|15|26|29|07|27|55|03|13|33|41|43|53|63|24|99)\d{1}$|^[5|0]\d{9}$|^\d{2}(20|21|32|34|36|37|38|42|46|70|71|73|74|75|76|77|78|80|81|83|84|85|86|87|88|91|92|93|94|95|96|99|30|33|35|41|42|43|45|50|58|63|64|60|61|62|65|66|67|68|69|00|01|02|03|04|05|06|07|08|09|10|11|12|13|14|15|16|17|18|19|59|40|48)\d{6}$/,
        '대구은행': /^\d{3}(05|10|07|08|02|01|04|12|06|13|14)\d{6}$|^\d{3}(05|07|08|02|01|04)\d{7}$|^(505|058|502|501|504)\d{7}$|^\d{3}(05|06|07|08|02|01|04)\d{9}$/,
        '부산은행': /^\d{3}(01|02|12|03|09|13|11)\d{7}$|^(101|102|112|103|109|113)\d{7}$/,
        '광주은행': /^\d{3}(107|108|109|121|123|124|122|103|101|127|716|731)\d{6}$|^\d(107|109|121|103|101|127)\d{7}$/,
        '제주은행': /^\d{3}(01|02|03|04|05|13)\d{5}$|^(700|701|702|703|704|705|706|770|771|772|773|774|775|776|777|778|779|769|711|712|713|714)\d{6}$/,
        '전북은행': /^\d{3}(02|13|15|21|22|35|37|03|12|01|11|23|36)\d{7}$|^\d(013|021|012|011|023)\d{7}$/,
        '경남은행': /^\d{3}(07|09|21|22|03|01|35)\d{7}$|^(207|209|221|222|203|201|235)\d{7}$/,
        '새마을금고': /^\d{4}(09|10|13)\d{7}$|^9(002|003|004|005|037|206|207|210|200|202|025|208|209|212)\d{7}$/,
        '신한은행': /^(10[0-9]|16[0-1]|1[1-3][0-9]|15[5-9]|15[0-4]|14[0-9]|298|268|269)\d{9}$|^(560|561|562)\d{11}$|^\d{3}(01|09|61|04|05|06|08|02|07|03)\d{6}$|^\d{3}(81|82)\d{8}$|^\d{3}(01|02|11|13|12|03|04|05|99)\d{6}$|^\d{3}901\d{8}$/,
        'K뱅크': /^\d{10}$|^\d{12}$|^\d{14}$|^\d{2}(010|011|016)\d{7}$/,
        '카카오뱅크': /^\d{13}$/,
        '토스': /^\d{12}$/,
        'KB증권': /^\d{3}(01|06|07|10|11|12|16|30|40|45|50|55|6[1-9])\d{6}$|^\d{9}$/,
        '삼성증권': /^\d{8}$|^\d{10}$|^\d{12}$|^\d{14}$/,
    };

    function predictBank () {
    
        bankName.value.length = 0;

        for (const [bank, pattern] of Object.entries(bankPatterns)) {
            if (pattern.test(accountNumber.value)) {
                bankName.value.push(bank);
            }
        }

        
    }

  </script>